<div class="row">
  <div class="col-6" >
    <nb-card>
      <nb-card-header>
        <div>
          <label>Page:</label>
          <button nbButton ghost status="primary"  size="tiny" (click)="prevTopicPage()" [disabled]="topicPage<=1">
            <nb-icon icon="arrow-ios-back-outline" status="basic"></nb-icon>
          </button>
          <label>{{topicPage}} of {{totalTopicPages}}</label>
          <button nbButton ghost status="primary"  size="tiny" (click)="nextTopicPage()" [disabled]="topicPage>=totalTopicPages">
            <nb-icon icon="arrow-ios-forward-outline" status="basic"></nb-icon>
          </button>
        </div>
        <button nbButton size="tiny" (click)="openDialog(dialog)">Open Merge Stack</button>
      </nb-card-header>
        <table>
          <tr *ngFor="let t of topicData">
            <th>
              <input type="text" nbInput fullWidth [id]="t.topicId" [value]="t.topicName" [(ngModel)]="t.topicName">
            </th>
            <th>
              <button nbButton size="small" (click)="saveChanges(t)">save</button>
            </th>
            <th>
              <button nbButton size="small" (click)="showAliases(t)">aliases</button>
            </th>
            <th>
              <button nbButton size="small" (click)="addToMergeList(t)">Add to merge stack</button>
            </th>
          </tr>
        </table>
    </nb-card>
  </div>

  <div class="col-6">
    <nb-card>
      <nb-card-header>
        <div>
          <label>Page:</label>
          <button nbButton ghost status="primary"  size="tiny" (click)="prevAliasPage()" [disabled]="aliasPage<=1">
            <nb-icon icon="arrow-ios-back-outline" status="basic"></nb-icon>
          </button>
          <label>{{aliasPage}} of {{totalAliasPages}}</label>
          <button nbButton ghost status="primary"  size="tiny" (click)="nextAliasPage()" [disabled]="aliasPage>=totalAliasPages">
            <nb-icon icon="arrow-ios-forward-outline" status="basic"></nb-icon>
          </button>
        </div>
      </nb-card-header>

        <table>
          <tr *ngFor="let a of selectedTopicAliases">
            <th>
              <a [routerLink]="['/pages/asset',a.metaDataId ]" target="_blank" rel="noopener noreferrer">{{a.value}}</a>
            </th>
            <th>
              <button nbButton size="tiny" (click)="setAsTopicRepresentative(a.metaDataId)">set as representative</button>
            </th>
          </tr>
        </table>

    </nb-card>
  </div>
</div>



<ng-template #dialog let-data let-ref="dialogRef">
  <nb-card size="giant">
    <nb-card-header>
<!--      <button nbButton (click)="saveAsset()">Save</button>-->
      <button nbButton (click)="ref.close()">Close</button>
    </nb-card-header>
    <nb-card-body>
      <button nbButton status="warning">Merge</button>
      <button nbButton status="success">Select All</button>
      <input type="text" placeholder="Write the topic Name here" nbInput fullWidth [value]="mergeName">
<!--      <ol><li *ngFor="let t of topicMergeList">{{t.topicName}}</li></ol>-->
<!--      <label *ngFor="let t of topicMergeList">{{t.topicName}},</label>-->
      <nb-checkbox (checkedChange)="toggle(t,$event)" [checked]="" *ngFor="let t of topicMergeList">{{t.topicName}}</nb-checkbox>
    </nb-card-body>
  </nb-card>
</ng-template>
